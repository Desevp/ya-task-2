"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();document.addEventListener("DOMContentLoaded",function(){var e=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.slider=document.querySelector(t),this.initialized=!1,this.options=Object.assign({wrapper:".wrapper",item:".item",marginItem:15,btnWrapper:".slider-arrows",prevBtn:".slider-arrows__btn--prev",nextBtn:".slider-arrows__btn--next",btnDisablesClass:"is-disabled"},n),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.init(),document.body.clientWidth<=1024&&this.initialized&&this.disable(),window.addEventListener("resize",function(){i._checkArrows(),document.body.clientWidth>1024&&!i.initialized&&(i.init(),i.wrapper.style.transform="translateX(0px)",i._setDefaultArrow()),document.body.clientWidth<=1024&&i.initialized&&i.disable()})}return _createClass(e,[{key:"init",value:function(){var e=this;this.initialized=!0,this.wrapper=this.slider.querySelector(this.options.wrapper),this.item=this.slider.querySelector(this.options.item),this.btnWrapper=document.querySelector(this.options.btnWrapper),this.prevBtn=this.btnWrapper.querySelector(this.options.prevBtn),this.nextBtn=this.btnWrapper.querySelector(this.options.nextBtn),this.marginItem=this.options.marginItem,this.slider.style.overflowX="hidden",this.slider.scrollLeft=0,this._setDefaultArrow(),this.nextBtn.addEventListener("click",function(t){t.detail&&1!=t.detail||e.move("next")}),this.prevBtn.onclick=function(t){t.detail&&1!=t.detail||e.move("prev")},this._checkArrows()}},{key:"_setDefaultArrow",value:function(){this.prevBtn.classList.add(this.options.btnDisablesClass),this.nextBtn.classList.remove(this.options.btnDisablesClass)}},{key:"_checkArrows",value:function(){var e=this.wrapper.scrollWidth-this.marginItem;this.slider.offsetWidth<e?this._showArrow():this._hiddenArrow()}},{key:"_showArrow",value:function(){this.btnWrapper.classList.contains("slider-arrows--is-hidden")&&this.btnWrapper.classList.remove("slider-arrows--is-hidden")}},{key:"_hiddenArrow",value:function(){this.btnWrapper.classList.contains("slider-arrows--is-hidden")||this.btnWrapper.classList.add("slider-arrows--is-hidden")}},{key:"disable",value:function(){this.initialized=!1,this.slider.style.overflowX="auto"}},{key:"move",value:function(e){var t=this,i=function(e){var t=window.getComputedStyle(e);return new WebKitCSSMatrix(t.webkitTransform).m41}(this.wrapper),n=Math.floor(t.slider.offsetWidth/t.item.offsetWidth)*(this.item.offsetWidth+this.marginItem),s=void 0;"prev"==e?((s=i+n)>0?s=0:this.nextBtn.classList.remove(this.options.btnDisablesClass),s+n>0&&this.prevBtn.classList.add(this.options.btnDisablesClass)):(s=i-n,Math.abs(s)>this.wrapper.scrollWidth?s=i:this.prevBtn.classList.remove(this.options.btnDisablesClass),Math.abs(s-n)>=this.wrapper.scrollWidth&&this.nextBtn.classList.add(this.options.btnDisablesClass)),this.wrapper.style.transform="translateX("+s+"px)"}}]),e}(),t=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.element=t,this.value=0,this.degree=0,this.options=Object.assign({min:0,max:360,offsetAngle:0,minValue:0,maxValue:100,beginValue:0,scaleSvg:!0},i),this.isTouch=this._isTouchDevice(),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this,t=this.element,i=this.options.min,n=this.options.max,s=this.options.minValue,r=this.options.maxValue,o=this.options.offsetAngle,a=this.options.beginValue>=s?this.options.beginValue:this.options.minValue,l=function(e){return Math.round((e-s)*(n-i)/(r-s)+i)};this.degree=l(a),this.value=this.options.beginValue;this.input=function(e){var t=e.querySelector("input");return t||((t=document.createElement("input")).type="hidden",e.appendChild(t)),t}(t);var c=function(e){var t=e.querySelector(".pivot");return t||((t=document.createElement("div")).className="round-slider__pivot",e.appendChild(t)),t}(t);if(this.options.scaleSvg){document.querySelector(".round-slider__scale").style.transform="rotate("+(91+o+i)+"deg)";var d=document.getElementById("circle"),u=Math.floor(d.getTotalLength()-10);this.pathCircleLegth=u,this.redraw(d,n);var h=document.getElementById("scale");this.pathActive=h,this.redraw(h,l(a))}var v=function(){var t=e.degree+o;c.style.transform="rotate("+t+"deg)",e.input.value=e.value,e.redraw(e.pathActive,e.degree)};v();var p=function(a,l){var c=void 0;a.clientX&&a.clientY?c=[a.clientX,a.clientY]:a.changedTouches&&(c=[a.changedTouches[0].clientX,a.changedTouches[0].clientY]),a.preventDefault();var d=function(e,t){var i=function(e){var t=e.getBoundingClientRect();return[t.left+t.width/2,t.top+t.height/2]}(t),n=e[0]-i[0],s=e[1]-i[1],r=Math.atan2(s,n)*(180/Math.PI);return(r=r+180-o)>360&&(r+=-360),r<0&&(r+=360),r}(c,t);e.degree=Math.round(d),d>=i&&d<=n&&(e.value=function(e){return Math.round((r-s)/(n-i)*(e-i)+s)}(d),v()),function(e,t){if("createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i)}else e.fireEvent("on"+t)}(t,l?"change":"input")},m=function(i){var n=function i(n){p(n,!0),t.removeEventListener("mousemove",s,!1),document.body.removeEventListener("mouseup",i,!1),e.isTouch&&(t.removeEventListener("touchmove",s,!1),document.body.removeEventListener("touchend",i,!1))},s=function(e){p(e)};t.addEventListener("mousemove",s,!1),document.body.addEventListener("mouseup",n,!1),e.isTouch&&(t.addEventListener("touchmove",s,!1),document.body.addEventListener("touchend",n,!1))};t.addEventListener("mousedown",m,!1),this.isTouch&&t.addEventListener("touchstart",m,!1)}},{key:"redraw",value:function(e,t){e.setAttribute("stroke-dashoffset",this.pathCircleLegth/360*(t-this.options.min))}},{key:"_isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}}]),e}(),i=function(){function e(t,i){_classCallCheck(this,e);var n=document.querySelector(i);n&&this.init(t,n)}return _createClass(e,[{key:"init",value:function(e,t){var i=e.getElementsByClassName("filters__item"),n="filters__item--is-active",s=e.getElementsByClassName(n)[0],r=t,o=e.querySelector('[data-value="manual"]');s||(s=i[0]);for(var a=function(e){s.classList.remove(n),e.classList.add(n),s=e},l=function(e){var t=e,i=t.getAttribute("data-value");"manual"!==i&&(r.value=i),a(t)},c=0;c<i.length;c++)i[c].addEventListener("click",function(){l(this)});r.addEventListener("input",function(){a(o)})}}]),e}(),n=function(){function e(t){var i=this;_classCallCheck(this,e),this.modal=document.getElementById(t),this.overlay=document.querySelector(".js-overlay"),this.closeBtn=this.modal.querySelector(".popup__close"),this.page=document.querySelector(".page"),this.blurEl=document.querySelector(".page__inner"),this.closeBtn.addEventListener("click",function(){i.close()}),this.overlay.addEventListener("click",function(){i.close()})}return _createClass(e,[{key:"open",value:function(){this.overlay.classList.add("overlay--is-show"),this.modal.classList.add("popup--is-open"),this.blurEl.classList.add("is-blur"),this.hideScroll()}},{key:"close",value:function(){this.modal.classList.remove("popup--is-open"),this.overlay.classList.remove("overlay--is-show"),this.blurEl.classList.remove("is-blur"),this.showScroll()}},{key:"_getScrollbarSize",value:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var n=i.offsetWidth;return e.parentNode.removeChild(e),t-n}},{key:"_hasScrollbar",value:function(){return document.body.scrollHeight>document.body.clientHeight}},{key:"hideScroll",value:function(){document.body._scrollTop=window.pageYOffset,document.body.classList.add("is-fixed-overlay"),document.body.style.position="fixed",this._hasScrollbar()?document.body.style.width="calc(100% - "+this._getScrollbarSize()+"px)":document.body.style.width="100%",document.body.style.height="calc(100% + "+document.body._scrollTop+"px)",document.body.style.top=-document.body._scrollTop+"px"}},{key:"showScroll",value:function(){document.body.style.top="",document.body.classList.remove("is-fixed-overlay"),document.body.style.position="",document.body.style.width="",document.body.style.height="",window.scroll(0,document.body._scrollTop)}}]),e}();!function(){new(function(){function e(t){_classCallCheck(this,e),this.burger=document.querySelector(t),this.init()}return _createClass(e,[{key:"init",value:function(){var e=document.querySelector("main"),t=document.querySelector(".header__logo");this.burger.addEventListener("click",function(){this.classList.toggle("burger--is-active"),e.classList.toggle("is-blur"),t.classList.toggle("is-blur")})}}]),e}())(".js-menu"),new e(".js-script-slider",{wrapper:".slider__inner",item:".slider__item",margin:15,btnWrapper:".js-script-slider-btns",btnDisablesClass:"slider-arrows__btn--is-disabled"}),new e(".js-device-slider",{wrapper:".slider__inner",item:".slider__item",margin:15,btnWrapper:".js-device-slider-btns",btnDisablesClass:"slider-arrows__btn--is-disabled"});var s=document.querySelector(".js-round-slider");if(s){var r=new t(s,{min:45,max:315,offsetAngle:-90,minValue:18,maxValue:25,beginValue:23}),o=r.element,a=o.querySelector(".round-slider__inner");o.oninput=function(){a.innerHTML="+"+r.value}}var l=document.querySelector(".js-filters-temperature");l&&new i(l,".js-range-temperature");var c=document.querySelector(".js-filters-lighting");c&&new i(c,".js-range-lighting");for(var d=new n("temperatureModal"),u=new n("lightingModal"),h=new n("roundModal"),v=document.querySelectorAll(".js-open-modal"),p=0;p<v.length;p++){switch(v[p].getAttribute("data-modal-type")){case"temperature":v[p].addEventListener("click",function(){d.open()});break;case"lighting":v[p].addEventListener("click",function(){u.open()});break;case"round":v[p].addEventListener("click",function(){h.open()})}}}()}),window.onload=function(){};